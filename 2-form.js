import"./assets/styles-NZmWoyr6.js";import{e as l,i as d}from"./assets/vendor-C7Q3-Pvy.js";l.init("hQcP3rVr7NWYFyrR0");const n=document.querySelector(".feedback-form"),a=document.querySelector("input"),s=document.querySelector("textarea");let t={email:"",message:""},m={},i=e=>{t[e.target.name]=e.target.value.trim(),localStorage.setItem("feedback-form-state",JSON.stringify(t))};a.addEventListener("input",i);s.addEventListener("input",i);if(localStorage.getItem("feedback-form-state")!==null){try{m=JSON.parse(localStorage.getItem("feedback-form-state"))}catch(e){console.error("Error name:",e.name),console.error("Error message:",e.message)}t={...t,...m},a.value=t[a.name]||"",s.value=t[s.name]||""}function o(e){const r=document.querySelector(".toast");r.classList.add("show"),r.textContent=e,setTimeout(()=>r.classList.remove("show"),3e3)}function f(){const e=document.querySelector(".letter-img");n.addEventListener("submit",r=>{r.preventDefault();let{email:c,message:u}=t;if(!d(c)){o("It's not email");return}if(u.trim()===""){o("Wright something");return}l.sendForm("service_scmlcpr","template_7iwitgm",n).then(()=>{o("Message sent successfully!"),e.src="/goit-js-hw-09/img/closed-lttr.png",e.classList.add("letter-animation"),setTimeout(()=>{e.src="/goit-js-hw-09/img/mail_10345769.png",e.classList.remove("letter-animation")},1e3),console.log(t),localStorage.removeItem("feedback-form-state"),Object.keys(t).forEach(g=>t[g]=""),a.value=t[a.name],s.value=t[s.name]}).catch(()=>{console.error("Email sending failed:",error),o("Error sending message.")})})}f();
//# sourceMappingURL=2-form.js.map
