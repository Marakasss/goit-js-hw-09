import"./assets/styles-CbTkwCXX.js";import{e as i,i as n}from"./assets/vendor-C7Q3-Pvy.js";i.init("hQcP3rVr7NWYFyrR0");const l=document.querySelector(".feedback-form"),o=document.querySelector("input"),s=document.querySelector("textarea");let t={email:"",message:""},m={},c=e=>{t[e.target.name]=e.target.value.trim(),localStorage.setItem("feedback-form-state",JSON.stringify(t)),e.target.name==="email"&&(n(e.target.value)?e.target.style.backgroundColor="rgb(225, 225, 225)":e.target.style.backgroundColor="rgb(206, 206, 209)"),e.target.name==="message"&&(e.target.value.trim()!==""?e.target.style.backgroundColor="rgb(225, 225, 225)":e.target.style.backgroundColor="rgb(206, 206, 209)")};o.addEventListener("input",c);s.addEventListener("input",c);if(localStorage.getItem("feedback-form-state")!==null){try{m=JSON.parse(localStorage.getItem("feedback-form-state"))}catch(e){console.error("Error name:",e.name),console.error("Error message:",e.message)}t={...t,...m},o.value=t.email||"",s.value=t.message||""}function a(e){const r=document.querySelector(".toast");r.classList.add("show"),r.textContent=e,setTimeout(()=>r.classList.remove("show"),3e3)}function f(){const e=document.querySelector(".letter-img");l.addEventListener("submit",r=>{r.preventDefault();let{email:g,message:u}=t;if(!n(g)){a("It's not email");return}if(u.trim()===""){a("Wright something");return}i.sendForm("service_scmlcpr","template_7iwitgm",l).then(()=>{a("Message sent successfully!"),e.src="/goit-js-hw-09/img/closed-lttr.png",e.classList.add("letter-animation"),setTimeout(()=>{e.src="/goit-js-hw-09/img/mail_10345769.png",e.classList.remove("letter-animation")},1e3),console.log(t),localStorage.removeItem("feedback-form-state"),Object.keys(t).forEach(d=>t[d]=""),o.value=t[o.name],s.value=t[s.name]}).catch(()=>{console.error("Email sending failed:",error),a("Error sending message.")})})}f();
//# sourceMappingURL=2-form.js.map
