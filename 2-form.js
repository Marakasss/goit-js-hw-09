import"./assets/styles-CbTkwCXX.js";import{e as l,i as m}from"./assets/vendor-C7Q3-Pvy.js";l.init("hQcP3rVr7NWYFyrR0");const o=document.querySelector(".feedback-form"),i=document.querySelector("input"),c=document.querySelector("textarea");let t={email:"",message:""},s={},n=e=>{t[e.target.name]=e.target.value.trim(),localStorage.setItem("feedback-form-state",JSON.stringify(t)),e.target.name==="email"&&(m(e.target.value)?e.target.style.backgroundColor="rgb(225, 225, 225)":e.target.style.backgroundColor="rgb(206, 206, 209)"),e.target.name==="message"&&(e.target.value.trim()!==""?e.target.style.backgroundColor="rgb(225, 225, 225)":e.target.style.backgroundColor="rgb(206, 206, 209)")};i.addEventListener("input",n);c.addEventListener("input",n);if(localStorage.getItem("feedback-form-state")!==null){try{s=JSON.parse(localStorage.getItem("feedback-form-state"))}catch(e){console.error("Error name:",e.name),console.error("Error message:",e.message)}t={...t,...s},i.value=t.email||"",c.value=t.message||""}function a(e){const r=document.querySelector(".toast");r.classList.add("show"),r.textContent=e,setTimeout(()=>r.classList.remove("show"),3e3)}function f(){const e=document.querySelector(".letter-img");o.addEventListener("submit",r=>{r.preventDefault();let{email:g,message:u}=t;if(!m(g)){a("It's not email");return}if(u.trim()===""){a("Wright something");return}l.sendForm("service_scmlcpr","template_7iwitgm",o).then(()=>{a("Message sent successfully!"),e.src="/goit-js-hw-09/img/closed-lttr.png",e.classList.add("letter-animation"),setTimeout(()=>{e.src="/goit-js-hw-09/img/mail_10345769.png",e.classList.remove("letter-animation")},1e3),console.log(t),localStorage.removeItem("feedback-form-state"),Object.keys(t).forEach(d=>t[d]=""),o.reset()}).catch(()=>{console.error("Email sending failed:",error),a("Error sending message.")})})}f();
//# sourceMappingURL=2-form.js.map
