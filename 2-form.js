import"./assets/styles-CyAOjb6N.js";import{e as l,i as d}from"./assets/vendor-C7Q3-Pvy.js";const n=document.querySelector(".feedback-form"),s=document.querySelector("input"),r=document.querySelector("textarea");let e={email:"",message:""},m={},i=t=>{e[t.target.name]=t.target.value.trim(),localStorage.setItem("feedback-form-state",JSON.stringify(e))};s.addEventListener("input",i);r.addEventListener("input",i);localStorage.getItem("feedback-form-state")!==null&&(m=JSON.parse(localStorage.getItem("feedback-form-state")),e={...e,...m},s.value=e[s.name],r.value=e[r.name]);function o(t){const a=document.querySelector(".toast");a.classList.add("show"),a.textContent=t,setTimeout(()=>a.classList.remove("show"),3e3)}function f(){const t=document.querySelector(".letter-img");n.addEventListener("submit",a=>{a.preventDefault();let{email:c,message:u}=e;if(!d(c)){o("It's not email");return}if(u.trim()===""){o("Wright something");return}l.sendForm("service_scmlcpr","template_7iwitgm",n).then(()=>{o("Message sent successfully!"),t.src="/goit-js-hw-09/img/closed-lttr.png",t.classList.add("letter-animation"),setTimeout(()=>{t.src="/goit-js-hw-09/img/mail_10345769.png",t.classList.remove("letter-animation")},1e3),console.log(e),localStorage.removeItem("feedback-form-state"),Object.keys(e).forEach(g=>e[g]=""),s.value=e[s.name],r.value=e[r.name]}).catch(()=>{o("Error sending message.")})})}f();l.init("hQcP3rVr7NWYFyrR0");
//# sourceMappingURL=2-form.js.map
