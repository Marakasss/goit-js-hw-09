import"./assets/styles-CbTkwCXX.js";import{e as l,i as m}from"./assets/vendor-C7Q3-Pvy.js";l.init("hQcP3rVr7NWYFyrR0");const o="/goit-js-hw-09/",a=document.querySelector(".feedback-form");let t={email:"",message:""},n=e=>{t[e.target.name]=e.target.value.trim(),localStorage.setItem("feedback-form-state",JSON.stringify(t)),e.target.name==="email"&&(m(e.target.value)?e.target.style.backgroundColor="rgb(225, 225, 225)":e.target.style.backgroundColor="rgb(206, 206, 209)"),e.target.name==="message"&&(e.target.value.trim()!==""?e.target.style.backgroundColor="rgb(225, 225, 225)":e.target.style.backgroundColor="rgb(206, 206, 209)")};a.addEventListener("input",n);if(localStorage.getItem("feedback-form-state")!==null){let e={};try{e=JSON.parse(localStorage.getItem("feedback-form-state"))}catch(r){console.error("Error name:",r.name),console.error("Error message:",r.message)}t={...t,...e},a.elements.email.value=t.email||"",a.elements.message.value=t.message||""}function s(e){const r=document.querySelector(".toast");r.classList.add("show"),r.textContent=e,setTimeout(()=>r.classList.remove("show"),3e3)}function u(){const e=document.querySelector(".letter-img");a.addEventListener("submit",r=>{r.preventDefault();let{email:i,message:c}=t;if(!m(i)){s("It's not email");return}if(c.trim()===""){s("Wright something");return}l.sendForm("service_scmlcpr","template_7iwitgm",a).then(()=>{s("Message sent successfully!"),e.src=`${o}assets/img/closed-lttr.png`,e.classList.add("letter-animation"),setTimeout(()=>{e.src=`${o}assets/img/mail_10345769.png`,e.classList.remove("letter-animation")},1e3),console.log(t),localStorage.removeItem("feedback-form-state"),Object.keys(t).forEach(g=>t[g]=""),a.reset()}).catch(()=>{console.error("Email sending failed:",error),s("Error sending message.")})})}u();
//# sourceMappingURL=2-form.js.map
